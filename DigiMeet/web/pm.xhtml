<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html">
    <h:head>
        <link rel= "stylesheet" type="text/css" href="css/login.css"/>
        <title>DigiMeet</title>
    </h:head>
    <h:body style = "background: lightslategray">
        <div class="header">
            <h1>DigiMeet</h1>
            <p>PM</p>
        </div>

        <div class="topnav">
            <a href="faces/mainPage.xhtml">Main Page </a>
            <a href="faces/newPost.xhtml">New Post</a>
            <a href="faces/profile.xhtml">My Profile </a>
            <a href="faces/friends.xhtml">Add Friend </a>
            <a href="faces/myFriends.xhtml">My Friends </a>
            <!-- h:form kullanmamız lazım çünkü projeyi jsf ile yazdığımızdan
diğer tür butonları kullanamıyoruz. Diğer butonlar js vs. gerektiriyor-->
            <h:form>  
                <h:commandButton action="#{user.logOff()}" value="Log out"
                                 style ="float: right;
                                 color: aqua;
                                 text-align: center;
                                 padding: 14px 16px;
                                 text-decoration: none;
                                 font-size: 30px;
                                 background-color:slategray"/>
            </h:form>
            <h:outputText style ="float: right;
                          color: aqua;
                          text-align: center;
                          padding: 14px 16px;
                          text-decoration: none;
                          font-size: 30px;"
                          value="#{user.fetchUserName()}" escape="false" />
        </div>
        <br></br>
        <br></br>

        <h:form id="profile">
            <table align="left" style="padding: 20px">
                <tr>
                    <td>
                        <h:dataTable value="#{user.fetchAllMyPm()}" var="pmclass">
                            <h:column>
                                <div style="width: 800px; height: 40px;
                                     border: 2px solid red; background-color:slategray; display:inline-block">
                                    <h:outputText value="#{pmclass.message}"/>
                                </div>
                            </h:column>
                            <h:column>
                                <h:outputText value="#{pmclass.whoSent}"/>
                            </h:column>
                        </h:dataTable>
                    </td>
                </tr>
            </table>

            <table align="right" style="padding: 20px">
                <tr>
                    <td align="center">
                        <h:panelGrid columns="2"> 
                        <h:outputText value="E-mail"/>
                        <h:inputText value="#{user.friendEmail}"/>
                        <h:outputText value="Message"/>
                        <h:inputText value="#{user.pm}"/>
                        <h:commandButton value="send" action="#{user.sendPm()}" />
                        </h:panelGrid>
                    </td>
                </tr>
            </table>
        </h:form>

    </h:body>
</html>

